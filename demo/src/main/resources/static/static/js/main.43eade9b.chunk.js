(this["webpackJsonpbeanery-ikbo-02-16-narcologer"]=this["webpackJsonpbeanery-ikbo-02-16-narcologer"]||[]).push([[0],{67:function(e,t,n){e.exports=n(82)},72:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(25),u=n.n(l),o=(n(72),n(73),n(35)),c=n(29),i=n(90),d=n(89),s=n(54),m=n(55),h=n(65),f=n(56),E=n(66),p=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={hasError:!1},n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),b=n(34),g=n(6),y=n(10),v=function(e,t){return fetch("".concat("http://localhost:8080").concat(e),Object(y.a)({},t)).then((function(e){if(e.ok)return e.json();throw e})).catch((function(e){void 0!==e.ok&&e.text().then((function(e){alert(e),console.error(e)}))}))},_={create:function(e){return v("/students",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},get:function(e){return v("/students/".concat(e))},getAll:function(){return v("/students")},getAllByGroup:function(e){return v("/students/study_group/".concat(e))},update:function(e,t){return v("/students/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},transfer:function(e,t){return v("/students/transfer/".concat(e),{method:"PUT",body:t,headers:{"Content-Type":"application/json"}})},delete:function(e){return v("/students/".concat(e),{method:"DELETE"})}},j={create:function(e){return v("/study_groups",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},getAll:function(){return v("/study_groups")},update:function(e,t){return v("/study_groups/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},delete:function(e){return v("/study_groups/".concat(e),{method:"DELETE"})}},C=n(84),S=n(85),k=n(59),O=n(13),w=n(31);function G(e,t){var n=r.a.useState(e),a=Object(g.a)(n,2),l=a[0],u=a[1];return{inputs:l,setInputs:u,handleChange:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;u(Object(y.a)({},l,Object(w.a)({},a,n)))},handleSubmit:function(e){"function"===typeof t&&t(),e.preventDefault()}}}var T=n(86),I=n(87);var L=function(e){var t=e.show,n=e.handleClose,a=e.inputs,l=e.handleChange,u=e.handleSubmit;return r.a.createElement(T.a,{show:t,onHide:n},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 / \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435")),r.a.createElement(T.a.Body,null,r.a.createElement(I.a,{id:"students-form",onSubmit:u},r.a.createElement(I.a.Group,{controlId:"students-surname"},r.a.createElement(I.a.Label,null,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.a.createElement(I.a.Control,{name:"surname",value:a.surname,onChange:l})),r.a.createElement(I.a.Group,{controlId:"students-name"},r.a.createElement(I.a.Label,null,"\u0418\u043c\u044f"),r.a.createElement(I.a.Control,{name:"name",value:a.name,onChange:l})),r.a.createElement(I.a.Group,{controlId:"students-second-name"},r.a.createElement(I.a.Label,null,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),r.a.createElement(I.a.Control,{name:"second_name",value:a.second_name,onChange:l})),r.a.createElement(I.a.Group,{controlId:"students-study-group-id"},r.a.createElement(I.a.Label,null,"Id \u0433\u0440\u0443\u043f\u043f\u044b"),r.a.createElement(I.a.Control,{name:"study_group_id",value:a.study_group_id,onChange:l})))),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:n},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(k.a,{type:"submit",form:"students-form",variant:"primary",onClick:n},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))};var x=function(e){var t=e.show,n=e.student,a=e.handleSubmit,l=Object(O.a)(e,["show","student","handleSubmit"]),u=G({surname:"",name:"",second_name:"",study_group_id:""},(function(){a(Object(y.a)({id:n.id},o))})),o=u.inputs,c=u.setInputs,i=u.handleChange,d=u.handleSubmit;return r.a.useEffect((function(){t&&c(n)}),[t,c,n]),r.a.createElement(L,Object.assign({show:t,inputs:o,handleChange:i,handleSubmit:d},l))};var A=function(e){var t=e.show,n=e.handleSubmit,a=Object(O.a)(e,["show","handleSubmit"]),l=G({surname:"",name:"",second_name:"",study_group_id:""},(function(){n(u)})),u=l.inputs,o=l.handleChange,c=l.handleSubmit;return r.a.createElement(L,Object.assign({show:t,inputs:u,handleChange:o,handleSubmit:c},a))},B=n(88);var D=function(e){var t=e.studentId,n=e.studyGroupId,a=e.studyGroups,l=e.handleTransfer,u=r.a.useState([]),o=Object(g.a)(u,2),c=o[0],i=o[1];return r.a.useEffect((function(){i(a.filter((function(e){return e.id!==n})))}),[a,n]),r.a.createElement(B.a,null,r.a.createElement(B.a.Toggle,{variant:"link"},"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u0432"),r.a.createElement(B.a.Menu,null,c.map((function(e){return r.a.createElement(B.a.Item,{key:e.id,onClick:l(t,e.id)},e.name)}))))};var J=function(e){var t=e.students,n=e.studyGroups,l=e.handleDelete,u=e.handleUpdate,o=e.handleCreation,c=e.handleTransfer,i=r.a.useState(),d=Object(g.a)(i,2),s=d[0],m=d[1],h=r.a.useState(!1),f=Object(g.a)(h,2),E=f[0],p=f[1],b=function(e){return function(){p(!0),m(e)}},y=r.a.useState(!1),v=Object(g.a)(y,2),_=v[0],j=v[1];return r.a.createElement(a.Fragment,null,r.a.createElement(C.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"\u0424\u0418\u041e"),r.a.createElement("th",null,"\u0413\u0440\u0443\u043f\u043f\u0430"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,"".concat(e.surname," ").concat(e.name," ").concat(e.second_name)),r.a.createElement("td",null,e.study_group),r.a.createElement("td",null,r.a.createElement(S.a,null,r.a.createElement(k.a,{onClick:b(e)},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(k.a,{onClick:l(e.id),variant:"danger"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),r.a.createElement(D,{studentId:e.id,studyGroupId:e.study_group_id,studyGroups:n,handleTransfer:c}))))})))),r.a.createElement(k.a,{onClick:function(){j(!0)},style:{position:"fixed",bottom:24,right:24}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),r.a.createElement(x,{show:E,handleClose:function(){return p(!1)},student:s,handleSubmit:u}),r.a.createElement(A,{show:_,handleClose:function(){return j(!1)},handleSubmit:o}))};var U=function(){var e=r.a.useState([]),t=Object(g.a)(e,2),n=t[0],a=t[1],l=r.a.useState([]),u=Object(g.a)(l,2),o=u[0],c=u[1];return r.a.useEffect((function(){_.getAll().then((function(e){e&&a(e)})),j.getAll().then((function(e){c(e)}))}),[]),r.a.createElement(J,{students:n,studyGroups:o,handleDelete:function(e){return function(){_.delete(e).then((function(t){0===t&&a(n.filter((function(t){return t.id!==e})))}))}},handleUpdate:function(e){_.update(e.id,e).then((function(t){0===t&&_.get(e.id).then((function(e){a(n.map((function(t){return t.id===e.id?e:t})))}))}))},handleCreation:function(e){_.create(e).then((function(e){void 0!==e&&_.get(e).then((function(e){a([].concat(Object(b.a)(n),[e]))}))}))},handleTransfer:function(e,t){return function(){_.transfer(e,t).then((function(t){0===t&&_.get(e).then((function(e){a(n.map((function(t){return t.id===e.id?e:t})))}))}))}}})};var N=function(e){var t=e.show,n=e.handleClose,a=e.inputs,l=e.handleChange,u=e.handleSubmit;return r.a.createElement(T.a,{show:t,onHide:n},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 / \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435")),r.a.createElement(T.a.Body,null,r.a.createElement(I.a,{id:"study-groups-form",onSubmit:u},r.a.createElement(I.a.Group,{controlId:"study-groups-name"},r.a.createElement(I.a.Label,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(I.a.Control,{name:"name",value:a.name,onChange:l})))),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:n},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(k.a,{type:"submit",form:"study-groups-form",variant:"primary",onClick:n},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))};var F=function(e){var t=e.show,n=e.studyGroup,a=e.handleSubmit,l=Object(O.a)(e,["show","studyGroup","handleSubmit"]),u=G({name:""},(function(){a(Object(y.a)({id:n.id},o))})),o=u.inputs,c=u.setInputs,i=u.handleChange,d=u.handleSubmit;return r.a.useEffect((function(){t&&c(n)}),[t,c,n]),r.a.createElement(N,Object.assign({show:t,inputs:o,handleChange:i,handleSubmit:d},l))};var P=function(e){var t=e.show,n=e.handleSubmit,a=Object(O.a)(e,["show","handleSubmit"]),l=G({name:""},(function(){n(u)})),u=l.inputs,o=l.handleChange,c=l.handleSubmit;return r.a.createElement(N,Object.assign({show:t,inputs:u,handleChange:o,handleSubmit:c},a))};var H=function(e){var t=e.studyGroups,n=e.handleDelete,l=e.handleUpdate,u=e.handleCreation,o=r.a.useState(),c=Object(g.a)(o,2),i=c[0],d=c[1],s=r.a.useState(!1),m=Object(g.a)(s,2),h=m[0],f=m[1],E=function(e){return function(){f(!0),d(e)}},p=r.a.useState(!1),b=Object(g.a)(p,2),y=b[0],v=b[1];return r.a.createElement(a.Fragment,null,r.a.createElement(C.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement(S.a,null,r.a.createElement(k.a,{onClick:E(e)},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(k.a,{onClick:n(e.id),variant:"danger"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))})))),r.a.createElement(k.a,{onClick:function(){v(!0)},style:{position:"fixed",bottom:24,right:24}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),r.a.createElement(F,{show:h,handleClose:function(){return f(!1)},studyGroup:i,handleSubmit:l}),r.a.createElement(P,{show:y,handleClose:function(){return v(!1)},handleSubmit:u}))};var R=function(){var e=r.a.useState([]),t=Object(g.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){j.getAll().then((function(e){e&&a(e)}))}),[]),r.a.createElement(H,{studyGroups:n,handleDelete:function(e){return function(){j.delete(e).then((function(t){0===t&&a(n.filter((function(t){return t.id!==e})))}))}},handleUpdate:function(e){j.update(e.id,e).then((function(t){0===t&&a(n.map((function(t){return t.id===e.id?e:t})))}))},handleCreation:function(e){j.create(e).then((function(t){void 0!==t&&a([].concat(Object(b.a)(n),[Object(y.a)({id:t},e)]))}))}})},z={create:function(e){return v("/journal",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},get:function(e){return v("/journal/".concat(e))},getAll:function(){return v("/journal")},getAllByStudyGroup:function(e){return v("/journal/study_group/".concat(e))},update:function(e,t){return v("/journal/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},delete:function(e){return v("/journal/".concat(e),{method:"DELETE"})}};var W=function(e){var t=e.show,n=e.handleClose,a=e.inputs,l=e.handleChange,u=e.handleSubmit;return r.a.createElement(T.a,{show:t,onHide:n},r.a.createElement(T.a.Header,{closeButton:!0},r.a.createElement(T.a.Title,null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 / \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435")),r.a.createElement(T.a.Body,null,r.a.createElement(I.a,{id:"journal-form",onSubmit:u},r.a.createElement(I.a.Group,{controlId:"journal-student-id"},r.a.createElement(I.a.Label,null,"Id \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"),r.a.createElement(I.a.Control,{name:"student_id",value:a.student_id,onChange:l})),r.a.createElement(I.a.Group,{controlId:"journal-study-plan-id"},r.a.createElement(I.a.Label,null,"Id \u0443\u0447\u0435\u0431\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u043d\u0430"),r.a.createElement(I.a.Control,{name:"study_plan_id",value:a.study_plan_id,onChange:l})),r.a.createElement(I.a.Group,{controlId:"journal-in-time"},r.a.createElement(I.a.Check,{name:"in_time",type:"checkbox",id:"journal-in-time-checkbox",label:"\u0412\u043e\u0432\u0440\u0435\u043c\u044f",checked:a.in_time,onChange:l})),r.a.createElement(I.a.Group,{controlId:"journal-count"},r.a.createElement(I.a.Label,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0434\u0430\u0447"),r.a.createElement(I.a.Control,{name:"count",value:a.count,onChange:l})),r.a.createElement(I.a.Group,{controlId:"journal-mark-id"},r.a.createElement(I.a.Label,null,"\u041e\u0446\u0435\u043d\u043a\u0430"),r.a.createElement(I.a.Control,{name:"mark_id",as:"select",onChange:l,value:a.mark_id},r.a.createElement("option",{value:"1"},"\u041e\u0442\u043b\u0438\u0447\u043d\u043e"),r.a.createElement("option",{value:"2"},"\u0425\u043e\u0440\u043e\u0448\u043e"),r.a.createElement("option",{value:"3"},"\u0423\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),r.a.createElement("option",{value:"4"},"\u041d\u0435\u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e"),r.a.createElement("option",{value:"5"},"\u0417\u0430\u0447\u0435\u0442"),r.a.createElement("option",{value:"6"},"\u041d\u0435\u0437\u0430\u0447\u0435\u0442"),r.a.createElement("option",{value:"7"},"\u041d\u0435\u044f\u0432\u043a\u0430"))))),r.a.createElement(T.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:n},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(k.a,{type:"submit",form:"journal-form",variant:"primary",onClick:n},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))};var M=function(e){var t=e.show,n=e.journalRecord,a=e.handleSubmit,l=Object(O.a)(e,["show","journalRecord","handleSubmit"]),u=G({student_id:"",study_plan_id:"",in_time:"",count:"",mark_id:""},(function(){a(Object(y.a)({id:n.id},o))})),o=u.inputs,c=u.setInputs,i=u.handleChange,d=u.handleSubmit;return r.a.useEffect((function(){t&&c(Object(y.a)({},n))}),[t,c,n]),r.a.createElement(W,Object.assign({show:t,inputs:o,handleChange:i,handleSubmit:d},l))};var $=function(e){var t=e.show,n=e.handleSubmit,a=Object(O.a)(e,["show","handleSubmit"]),l=G({student_id:"",study_plan_id:"",in_time:"",count:"",mark_id:1},(function(){n(u)})),u=l.inputs,o=l.handleChange,c=l.handleSubmit;return r.a.createElement(W,Object.assign({show:t,inputs:u,handleChange:o,handleSubmit:c},a))};var q=function(e){var t=e.journalRecords,n=e.handleDelete,l=e.handleUpdate,u=e.handleCreation,o=r.a.useState(),c=Object(g.a)(o,2),i=c[0],d=c[1],s=r.a.useState(!1),m=Object(g.a)(s,2),h=m[0],f=m[1],E=function(e){return function(){f(!0),d(e)}},p=r.a.useState(!1),b=Object(g.a)(p,2),y=b[0],v=b[1];return r.a.createElement(a.Fragment,null,r.a.createElement(C.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"\u0424\u0418\u041e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"),r.a.createElement("th",null,"\u041f\u0440\u0435\u0434\u043c\u0435\u0442"),r.a.createElement("th",null,"\u0422\u0438\u043f \u044d\u043a\u0437\u0430\u043c\u0435\u043d\u0430"),r.a.createElement("th",null,"\u0412\u043e\u0432\u0440\u0435\u043c\u044f"),r.a.createElement("th",null,"\u041e\u0446\u0435\u043d\u043a\u0430"),r.a.createElement("th",null,"\u041f\u0435\u0440\u0435\u0441\u0434\u0430\u0447"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.student_full_name),r.a.createElement("td",null,e.subject_short_name),r.a.createElement("td",null,e.exam_type),r.a.createElement("td",null,e.in_time?"\u0414\u0430":"\u041d\u0435\u0442"),r.a.createElement("td",null,e.mark_name),r.a.createElement("td",null,e.count),r.a.createElement("td",null,r.a.createElement(S.a,null,r.a.createElement(k.a,{onClick:E(e)},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(k.a,{onClick:n(e.id),variant:"danger"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))})))),r.a.createElement(k.a,{onClick:function(){v(!0)},style:{position:"fixed",bottom:24,right:24}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"),r.a.createElement(M,{show:h,handleClose:function(){return f(!1)},journalRecord:i,handleSubmit:l}),r.a.createElement($,{show:y,handleClose:function(){return v(!1)},handleSubmit:u}))};var K=function(){var e=r.a.useState([]),t=Object(g.a)(e,2),n=t[0],a=t[1];return r.a.useEffect((function(){z.getAll().then((function(e){e&&a(e)}))}),[]),r.a.createElement(q,{journalRecords:n,handleDelete:function(e){return function(){z.delete(e).then((function(t){0===t&&a(n.filter((function(t){return t.id!==e})))}))}},handleUpdate:function(e){z.update(e.id,e).then((function(t){0===t&&z.get(e.id).then((function(e){a(n.map((function(t){return t.id===e.id?e:t})))}))}))},handleCreation:function(e){z.create(e).then((function(e){void 0!==e&&z.get(e).then((function(e){a([].concat(Object(b.a)(n),[e]))}))}))}})},Q={5:"#c5e1a5",4:"#fff59d",3:"#ffcc80",2:"#ffab91","\u0437":"#c5e1a5","\u043d":"#ffab91"};var V=function(e){var t=e.studentsJournal,n=e.subjects;return r.a.createElement(C.a,{bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"\u0424\u0418\u041e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"),n.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.student_full_name),n.map((function(t){var n=e[t],a=n&&n.mark_value,l=n&&n.exam_type,u=n&&n.count;return r.a.createElement("td",{key:t,style:{position:"relative",backgroundColor:Q[a]}},a,r.a.createElement("span",{style:{fontSize:12,position:"absolute",top:0,right:0,backgroundColor:"#fff"}},l),r.a.createElement("span",{style:{fontSize:10,position:"absolute",bottom:0,right:0}},u>0&&"\u041f\u0435\u0440\u0435\u0441\u0434\u0430\u0447: ".concat(u)))})))}))))};var X=function(e){var t=e.studyGroups,n=e.inputs,a=e.handleChange;return r.a.createElement(I.a,null,r.a.createElement(I.a.Group,{controlId:"study-groups"},r.a.createElement(I.a.Label,null,"\u0413\u0440\u0443\u043f\u043f\u044b"),r.a.createElement(I.a.Control,{name:"study_group_id",as:"select",onChange:a,value:n.study_group_id},r.a.createElement("option",{value:-1},"*"),t.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(I.a.Group,{controlId:"sort-options"},r.a.createElement(I.a.Label,null,"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"),r.a.createElement(I.a.Control,{name:"sort_option",as:"select",onChange:a,value:n.sort_option},r.a.createElement("option",{value:0},"\u041f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443"),r.a.createElement("option",{value:1},"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e \u043e\u0446\u0435\u043d\u043e\u043a"))))};var Y=function(){var e=r.a.useState([]),t=Object(g.a)(e,2),n=t[0],l=t[1],u=r.a.useState([]),o=Object(g.a)(u,2),c=o[0],i=o[1],d=r.a.useState([]),s=Object(g.a)(d,2),m=s[0],h=s[1],f=r.a.useState([]),E=Object(g.a)(f,2),p=E[0],b=E[1];r.a.useEffect((function(){j.getAll().then((function(e){e&&b(e)}))}),[]);var y=G({study_group_id:"-1",sort_option:"0"}),v=y.inputs,_=y.handleChange;return r.a.useEffect((function(){var e=function(e){var t={},n={};e.forEach((function(e){n[e.subject_short_name]=!0;var a=t[e.student_id],r={exam_type:e.exam_type,mark_value:e.mark_value,count:e.count};a?(a[e.subject_short_name]=r,a.marks_sum+=+e.mark_value||0):t[e.student_id]=Object(w.a)({id:e.student_id,student_full_name:e.student_full_name,marks_sum:+e.mark_value||0},e.subject_short_name,r)})),l(Object.values(t)),h(Object.keys(n))};"-1"!==v.study_group_id?z.getAllByStudyGroup(v.study_group_id).then((function(t){t&&e(t)})):z.getAll().then(e)}),[v.study_group_id]),r.a.useEffect((function(){console.log(n);"0"===v.sort_option?i(function(e){return e.sort((function(e,t){return e.student_full_name.localeCompare(t.student_full_name)}))}(n.slice())):i(function(e){return e.sort((function(e,t){return t.marks_sum-e.marks_sum}))}(n.slice()))}),[v.sort_option,n]),r.a.createElement(a.Fragment,null,r.a.createElement(X,{studyGroups:p,inputs:v,handleChange:_}),r.a.createElement(V,{studentsJournal:c,subjects:m}))};var Z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{bg:"light",expand:"lg"},r.a.createElement(i.a.Brand,{href:"/"},"@Narcologer"),r.a.createElement(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(i.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(d.a,{className:"mr-auto"},r.a.createElement(d.a.Link,{as:o.b,to:"/study_groups"},"\u0413\u0440\u0443\u043f\u043f\u044b"),r.a.createElement(d.a.Link,{as:o.b,to:"/students"},"\u0421\u0442\u0443\u0434\u0435\u043d\u0442\u044b"),r.a.createElement(d.a.Link,{as:o.b,to:"/journal_records"},"\u0417\u0430\u043f\u0438\u0441\u0438 \u0436\u0443\u0440\u043d\u0430\u043b\u0430"),r.a.createElement(d.a.Link,{as:o.b,to:"/journal"},"\u0416\u0443\u0440\u043d\u0430\u043b")))),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/"},r.a.createElement(c.a,{to:"/students"})),r.a.createElement(c.b,{path:"/study_groups"},r.a.createElement(R,null)),r.a.createElement(c.b,{path:"/students"},r.a.createElement(U,null)),r.a.createElement(c.b,{path:"/journal_records"},r.a.createElement(K,null)),r.a.createElement(c.b,{path:"/journal"},r.a.createElement(Y,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[67,1,2]]]);
//# sourceMappingURL=main.43eade9b.chunk.js.map