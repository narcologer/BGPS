CREATE TABLE JOURNAL
(
ID INT AUTO_INCREMENT NOT NULL,
STUDENT_ID INT NULL,
STUDY_PLAN INT NULL,
IN_TIME BIT,
COUNT INT NULL,
MARK_ID INT NULL
);

ALTER TABLE JOURNAL
ADD PRIMARY KEY(ID);

CREATE TABLE MARK
(
ID INT AUTO_INCREMENT NOT NULL,
NAME TEXT,
VALUE TEXT
);

ALTER TABLE MARK
ADD PRIMARY KEY(ID);

CREATE TABLE STUDY_PLAN
(
ID INT AUTO_INCREMENT NOT NULL,
SUBJECT_ID INT NULL,
EXAM_TYPE_ID INT NULL
);

ALTER TABLE STUDY_PLAN
ADD PRIMARY KEY(ID);

CREATE TABLE EXAM_TYPE
(
ID INT AUTO_INCREMENT NOT NULL,
TYPE TEXT
);

ALTER TABLE EXAM_TYPE
ADD PRIMARY KEY(ID);

CREATE TABLE STUDENT
(
ID INT AUTO_INCREMENT NOT NULL,
SURNAME TEXT,
NAME TEXT,
SECONDNAME TEXT,
STUDY_GROUP_ID INT NULL
);

ALTER TABLE STUDENT
ADD PRIMARY KEY(ID);

CREATE TABLE STUDENT_LOCAL
(
ID INT AUTO_INCREMENT NOT NULL,
SURNAME TEXT,
NAME TEXT,
SECONDNAME TEXT,
STUDY_GROUP_ID INT NULL
);

CREATE TABLE STUDY_GROUP
(
ID INT AUTO_INCREMENT NOT NULL,
NAME TEXT
);

ALTER TABLE STUDY_GROUP
ADD PRIMARY KEY(ID);

CREATE TABLE SUBJECT
(
ID INT AUTO_INCREMENT NOT NULL,
NAME TEXT,
SHORTNAME TEXT
);

ALTER TABLE SUBJECT
ADD PRIMARY KEY(ID);

ALTER TABLE JOURNAL
ADD CONSTRAINT R_1 FOREIGN KEY (STUDENT_ID) REFERENCES STUDENT (ID);

ALTER TABLE JOURNAL
ADD CONSTRAINT R_2 FOREIGN KEY (MARK_ID) REFERENCES MARK (ID);

ALTER TABLE JOURNAL
ADD CONSTRAINT R_3 FOREIGN KEY (STUDY_PLAN) REFERENCES STUDY_PLAN (ID);

ALTER TABLE STUDENT
ADD CONSTRAINT R_4 FOREIGN KEY (STUDY_GROUP_ID) REFERENCES STUDY_GROUP (ID);

ALTER TABLE STUDY_PLAN
ADD CONSTRAINT R_5 FOREIGN KEY (SUBJECT_ID) REFERENCES SUBJECT (ID);

ALTER TABLE STUDY_PLAN
ADD CONSTRAINT R_6 FOREIGN KEY (EXAM_TYPE_ID) REFERENCES EXAM_TYPE (ID);

INSERT INTO SUBJECT(ID,NAME,SHORTNAME) VALUES 
(1, 'Proektirovanie informacionnih sistem', 'PrIS'),
(2, 'Sistemi iskustvennogo intellekta', 'SII'),
(3, 'Programmnaya injeneriya', 'PI'),
(4, 'Nacionalnaya sistema informacionnoi beazopasnosti', 'NSIB'),
(5, 'Sistemnii Analiz', 'SisAnal'),
(6, 'Raspredelennie bazi dannih', 'RBD'),
(7, 'Sistemnoe programmnoe obespechenie', 'SPO');

INSERT INTO EXAM_TYPE(ID,TYPE) VALUES
(1, 'Examen'),
(2, 'Zachet'),
(3, 'Zachet s ocenkoi'),
(4, 'Kursovaya');

INSERT INTO STUDY_PLAN(ID,SUBJECT_ID,EXAM_TYPE_ID) VALUES
(1, 1, 1),
(2, 1, 4),
(3, 2, 1),
(4, 3, 1),
(5, 4, 2),
(6, 5, 1),
(7, 6, 2),
(8, 7, 1);

INSERT INTO MARK(ID,NAME,VALUE) VALUES
(1, 'Otlichno', 5),
(2, 'Horosho', 4),
(3, 'Udovletvoritelno', 3),
(4, 'Neudovletvoritelno', 2),
(5, 'Zachet', 'z'),
(6, 'Nezachet', 'n'),
(7, 'Neyavka', '');


INSERT INTO STUDY_GROUP(ID, NAME) VALUES
(1,'IKBO-02-16'),
(2,'KMBO-03-17');


INSERT INTO STUDENT_LOCAL(ID, SURNAME,NAME,SECONDNAME, STUDY_GROUP_ID) VALUES
(121,'PUPKIN','VASILII','SHPIZBERGENOVICH',2);